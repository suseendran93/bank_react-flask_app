(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,a){e.exports=a(84)},58:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(23),r=a.n(c),u=(a(58),a(28)),m=a(11),i=a(10),s=function(){var e=Object(m.f)();return l.a.createElement(i.c,null,l.a.createElement(i.i,{className:"justify-content-center align-items-center",style:{textAlign:"center",marginTop:"10%"}},l.a.createElement(i.b,{xs:"12"},l.a.createElement(i.a,{className:"mt-2 btn-size",color:"primary",onClick:function(){return e("/login")}},"Login")),l.a.createElement(i.b,{xs:"12"},l.a.createElement(i.a,{className:"mt-2 btn-size",color:"primary",onClick:function(){return e("/create-account")}},"Signup"))))},o=a(12),E=a(49),f=(a(62),E.a.initializeApp({apiKey:"AIzaSyBjGYz-woduzEhDcTkOAfTrV-ECQzClFhA",authDomain:"banking-app-dev.firebaseapp.com",projectId:"banking-app-dev",storageBucket:"banking-app-dev.appspot.com",messagingSenderId:"335718487527",appId:"1:335718487527:web:8137fb9efb4ac2afbbd942"})),b=f.auth(),g=l.a.createContext();function d(){return Object(n.useContext)(g)}function p(e){var t=e.children,a=Object(n.useState)(),c=Object(o.a)(a,2),r=c[0],u=c[1];Object(n.useEffect)(function(){return b.onAuthStateChanged(function(e){u(e)})},[]);var m={currentUser:r,signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},signin:function(e,t){return b.signInWithEmailAndPassword(e,t)},signout:function(){return b.signOut()}};return l.a.createElement(g.Provider,{value:m},t)}var h=function(e){var t=e.userDetails,c=Object(m.f)(),r=a(38),u=Object(n.useState)(),s=Object(o.a)(u,2),E=s[0],f=s[1],b=Object(n.useState)(!1),g=Object(o.a)(b,2),p=g[0],h=g[1],y=Object(n.useState)(""),O=Object(o.a)(y,2),j=O[0],v=O[1],x=Object(n.useState)(""),N=Object(o.a)(x,2),S=N[0],A=N[1],C=Object(n.useState)(!1),w=Object(o.a)(C,2),k=w[0],T=w[1],B=d().signout,z=function(){return T(!k)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"m-2",style:{textAlign:"right"}},l.a.createElement(i.a,{className:"mt-2 btn-size",color:"secondary",onClick:function(e){e.preventDefault(),B().then(function(){c("/")}).catch(function(e){console.log(e)})}},"Logout")),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(i.b,null,l.a.createElement("h2",null,"WELCOME TO USER PAGE"),t&&l.a.createElement("div",null,l.a.createElement("p",null,"Name: ",t.Name),l.a.createElement("p",null,"Account No: ",t.Acc),l.a.createElement("p",null,"Balance: ",t.Balance))),l.a.createElement(i.b,{xs:"12"},l.a.createElement(i.a,{className:"mt-2 btn-size",color:"primary",onClick:z},"Add Beneficiary")),l.a.createElement(i.b,{xs:"12"},l.a.createElement(i.a,{className:"mt-2 btn-size",color:"primary",onClick:function(e){h(!p),e.preventDefault(),r.get("/showbeneficiary/"+t._id).then(function(e){var t=e&&e.data[0].Beneficiary,a=Object.entries(t);f(a)}).catch(function(e){console.log(e)})}},p?"Hide beneficiary":"Show beneficiary")),p&&E&&l.a.createElement("div",{className:"d-flex justify-content-center mt-2"},l.a.createElement(i.b,{xs:"4"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Acc number"),l.a.createElement("th",null))),l.a.createElement("tbody",null,E.map(function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,e[0]),l.a.createElement("td",null,e[1]),l.a.createElement("td",null,l.a.createElement(i.a,{className:"btn-size",color:"primary",onClick:function(a){return function(e,a){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromAcc:t.Acc,toAcc:a,fund:t.Balance,amount:50})};fetch("/transferfund",n).then(function(){r.get("/login/"+t._id).then(function(e){var a=e&&e.data[0];t.Balance=a.Balance,h(!p)}).catch(function(e){console.log(e)})})}(a,e[1])}},"Transfer (50)")))})))))),l.a.createElement(i.f,{isOpen:k,toggle:z},l.a.createElement(i.h,{className:"justify-content-center"},"Enter Beneficiary details"),l.a.createElement(i.g,null,l.a.createElement(i.d,{onSubmit:function(e){e.preventDefault();var a=parseInt(S),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromAcc:t.Acc,toAcc:a,name:j})};fetch("/addBeneficiary",n).then(function(){z()})}},l.a.createElement(i.e,null,l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"4",lg:"4"},l.a.createElement("label",null,"Name")),l.a.createElement(i.b,{xs:"8",lg:"8"},l.a.createElement("input",{type:"text",value:j,onChange:function(e){v(e.target.value)}}))),l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"4",lg:"4"},l.a.createElement("label",null,"Account number")),l.a.createElement(i.b,{xs:"8",lg:"8"},l.a.createElement("input",{type:"text",value:S,onChange:function(e){A(e.target.value)}})))),l.a.createElement(i.e,null,l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement(i.a,{type:"submit"},"Submit")))))))},y=function(){var e=a(38),t=Object(n.useState)(!1),c=Object(o.a)(t,2),r=c[0],u=c[1],m=Object(n.useState)({}),s=Object(o.a)(m,2),E=s[0],f=s[1],b=Object(n.useState)({flag:!1,message:""}),g=Object(o.a)(b,2),p=g[0],y=g[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),v=j[0],x=j[1],N=d().signin,S=Object(n.useRef)(null),A=Object(n.useRef)(null);return l.a.createElement(l.a.Fragment,null,r?l.a.createElement(h,{userDetails:E}):l.a.createElement(i.c,null,l.a.createElement(i.i,{className:"d-flex justify-content-center align-items-center",style:{textAlign:"center",marginTop:"10%"}},l.a.createElement(i.b,{md:"6",className:"mt-2"},l.a.createElement(i.d,{onSubmit:function(t){t.preventDefault(),x(!0),N(S.current.value,A.current.value).then(function(t){e.get("/login/"+t.user.multiFactor.user.uid).then(function(e){var t=e&&e.data[0];200===e.status&&0!==e.data.length&&(u(!0),f(t),x(!1))}).catch(function(e){x(!1),y({flag:!0,message:"Network error!"})})}).catch(function(e){var t="Error occurred";"auth/wrong-password"===JSON.parse(JSON.stringify(e)).code?t="Wrong password!":"auth/user-not-found"===JSON.parse(JSON.stringify(e)).code&&(t="Email not found"),x(!1),y({flag:!0,message:t})})}},l.a.createElement(i.e,null,l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"12",lg:"4"},l.a.createElement("label",null,"Email")),l.a.createElement(i.b,{xs:"12",lg:"8"},l.a.createElement("input",{type:"email",ref:S})))),l.a.createElement(i.e,null,l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"12",lg:"4"},l.a.createElement("label",null,"Password")),l.a.createElement(i.b,{xs:"12",lg:"8"},l.a.createElement("input",{type:"password",ref:A}),p.flag&&l.a.createElement("p",{style:{color:"red"}},p.message)))),l.a.createElement(i.e,null,l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},v?l.a.createElement(i.a,{disabled:!0},"Loading..."):l.a.createElement(i.a,{type:"submit"},"Submit"))))))))},O=function(){var e=Object(m.f)(),t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],r=a[1],u=Object(n.useRef)(null),s=Object(n.useRef)(null),E=Object(n.useRef)(null),f=d().signup;return l.a.createElement(i.c,null,l.a.createElement(i.i,{className:"justify-content-center align-items-center",style:{textAlign:"center",marginTop:"10%"}},l.a.createElement(i.b,{xs:"12"},l.a.createElement(i.a,{className:"mt-2 btn-size",color:"primary",onClick:function(){r(!0)}},"Create Account")),c&&l.a.createElement(i.b,{md:"6",className:"mt-2"},l.a.createElement(i.d,{onSubmit:function(t){t.preventDefault(),f(s.current.value,E.current.value).then(function(t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.user.multiFactor.user.uid,acc:Math.floor(1e5+9e5*Math.random()),name:u.current.value})};fetch("/createaccount",a).then(function(t){r(!1),e("/")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},l.a.createElement(i.e,null,l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"12",lg:"4"},l.a.createElement("label",null,"Email address")),l.a.createElement(i.b,{xs:"12",lg:"8"},l.a.createElement("input",{type:"email",ref:s})))),l.a.createElement(i.e,null,l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"12",lg:"4"},l.a.createElement("label",null,"Password")),l.a.createElement(i.b,{xs:"12",lg:"8"},l.a.createElement("input",{type:"password",ref:E})))),l.a.createElement(i.e,null,l.a.createElement(i.i,{className:"m-3"},l.a.createElement(i.b,{xs:"12",lg:"4"},l.a.createElement("label",null,"Name")),l.a.createElement(i.b,{xs:"12",lg:"8"},l.a.createElement("input",{type:"text",ref:u})))),l.a.createElement(i.e,null,l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement(i.a,{type:"submit"},"Submit")))))))},j=(a(82),function(){return l.a.createElement(p,null,l.a.createElement(u.a,null,l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",element:l.a.createElement(s,null)}),l.a.createElement(m.a,{exact:!0,path:"/login",element:l.a.createElement(y,null)}),l.a.createElement(m.a,{exact:!0,path:"/create-account",element:l.a.createElement(O,null)}))))}),v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),l(e),c(e),r(e)})};a(83);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(j,null)),document.getElementById("root")),v()}},[[53,1,2]]]);
//# sourceMappingURL=main.60d537d4.chunk.js.map